<div class="hidden flex flex-col items-center py-1 px-4 gap-1">
    <label class="relative inline-flex items-center cursor-pointer scale-75">
        <input type="checkbox" class="sr-only peer">
        <span class="w-12 h-6 bg-white/80 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-purple-500 rounded-full peer dark:bg-gray-700 peer-checked:bg-purple-700"></span>
        <span class="absolute inset-y-1 left-1 w-4 h-4 bg-white rounded-full shadow transition-transform duration-200 transform peer-checked:translate-x-6"></span>
    </label>
    <span class="text-white/70 text-xs">Allow Bots</span>
</div>
<div class="w-2/5 space-y-3">
  <input id="party-code-input" type="text" maxlength="5" class="py-2 px-3 block w-full border-gray-200 rounded-lg text-sm text-center focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600" placeholder="Party Code">
</div>
<div id="party-code-show" class="bg-white/10 hover:bg-white/20 border border-white/30 text-white/70 text-sm font-bold py-2 px-4 shadow-lg order-3 w-20 min-w-[80px] text-center whitespace-nowrap">-----</div>
<script>
    waitForElementPresence("#party-code-show", (button) => {
        button.onclick = () => {sendCustomMessage({PURPOSE: CUSTOM_MESSAGE_TASKS.PARTY_CODE})}
    })
    waitForElementPresence("#party-code-input", (input) => {
        input.addEventListener("input", function() {
            input.value = input.value.trim().toLowerCase().slice(0, 5)
            if(input.value.length === 5) {
                sendCustomMessage({PURPOSE: "PARTY_CODE_INPUT", CODE: input.value})
            }
        })
    })
</script>