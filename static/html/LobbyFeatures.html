<div class="flex flex-col sm:flex-row items-center justify-center gap-3 w-full sm:w-auto">

    <!-- Party Code Input -->
    <div class="w-full sm:w-2/5 space-y-3">
        <input id="party-code-input" type="text" maxlength="5"
            class="py-2 px-3 block w-full border-gray-200 rounded-lg text-sm text-center
            focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none
            dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500
            dark:focus:ring-neutral-600"
            placeholder="Party Code">
    </div>

    <!-- Party Code Display -->
    <div id="party-code-show"
        class="bg-white/10 hover:bg-white/20 border border-white/30 text-white/70 text-sm font-bold
        py-2 px-4 shadow-lg order-3 w-full sm:w-20 min-w-[80px] text-center whitespace-nowrap">
        -----
    </div>
</div>

<script>
    waitForElementPresence("#party-code-show", (button) => {
        button.onclick = () => {sendCustomMessage({PURPOSE: CUSTOM_MESSAGE_TASKS.PARTY_CODE})}
    })
    waitForElementPresence("#party-code-input", (input) => {
        input.addEventListener("input", function() {
            input.value = input.value.trim().toLowerCase().slice(0, 5)
            if(input.value.length === 5) {
                sendCustomMessage({PURPOSE: "PARTY_CODE_INPUT", CODE: input.value})
            }
        })
    })
</script>